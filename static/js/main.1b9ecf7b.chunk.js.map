{"version":3,"sources":["components/Nav/Nav.tsx","components/HomePage/HomePage.tsx","components/PeopleTable/PeopleTable.tsx","api/getTabs.ts","components/PeoplePege/PeoplePage.tsx","components/ErrorPage/ErrorPage.tsx","components/Main/Main.tsx","App.tsx","index.tsx"],"names":["Nav","Menu","inverted","color","className","Item","as","NavLink","name","to","exact","path","position","Input","placeholder","icon","size","HomePage","PeopleTable","people","tableHeaders","sortTable","Table","celled","Header","Row","map","code","HeaderCell","key","content","data-sort-name","onClick","Body","person","id","Cell","Footer","colSpan","floated","pagination","Icon","getData","url","a","fetch","response","json","getTabs","idx","father","fatherName","mother","motherName","age","died","born","century","Math","ceil","children","filter","child","join","headersConfig","sex","sortType","field","b","localeCompare","PeoplePage","useState","setPeople","length","Object","entries","createTableHeaders","history","useHistory","location","useLocation","searchParams","URLSearchParams","search","sortedBy","get","useEffect","then","useMemo","sort","hasOwnProperty","event","currentTarget","dataset","sortName","callback","set","push","toString","reverse","ErrorPage","message","Main","component","from","App","ReactDOM","render","document","getElementById"],"mappings":"iYAkCeA,EA7BH,kBACV,oCACE,kBAACC,EAAA,EAAD,CAAMC,UAAQ,EAACC,MAAM,OAAOC,UAAU,OACpC,kBAACH,EAAA,EAAKI,KAAN,CACEC,GAAIC,IACJC,KAAK,OACLC,GAAG,IACHC,OAAK,IAEP,kBAACT,EAAA,EAAKI,KAAN,CACEC,GAAIC,IACJC,KAAK,SACLC,GAAG,UACHC,OAAK,IAEP,kBAAC,IAAD,CAAOC,KAAK,WACV,kBAACV,EAAA,EAAKI,KAAN,CAAWO,SAAS,SAClB,kBAACC,EAAA,EAAD,CACET,UAAU,kBACVU,YAAY,YACZC,KAAK,SACLC,KAAK,cCjBFC,G,OANE,kBACf,yBAAKb,UAAU,YACb,4C,iCC2DWc,G,OApDsB,SAAC,GAAyC,IAAvCC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,aAAcC,EAAgB,EAAhBA,UAC5D,OACE,kBAACC,EAAA,EAAD,CAAOC,QAAM,GACX,kBAACD,EAAA,EAAME,OAAP,KACE,kBAACF,EAAA,EAAMG,IAAP,KACGL,EAAaM,KAAI,gBAAGlB,EAAH,EAAGA,KAAMmB,EAAT,EAASA,KAAT,OAChB,kBAACL,EAAA,EAAMM,WAAP,CACEC,IAAKrB,EACLsB,QAAStB,EACTJ,UAAU,cACV2B,iBAAgBJ,EAChBK,QAASX,SAMjB,kBAACC,EAAA,EAAMW,KAAP,KACGd,EAAOO,KAAI,SAAAQ,GAAM,OAChB,kBAACZ,EAAA,EAAMG,IAAP,CAAWI,IAAKK,EAAOC,IACpBf,EAAaM,KAAI,gBAAGC,EAAH,EAAGA,KAAH,OAChB,kBAACL,EAAA,EAAMc,KAAP,CACEP,IAAKF,EACLG,QAASI,EAAOP,aAO1B,kBAACL,EAAA,EAAMe,OAAP,KACE,kBAACf,EAAA,EAAMG,IAAP,KACE,kBAACH,EAAA,EAAMM,WAAP,CAAkBU,QAAQ,KACxB,kBAACrC,EAAA,EAAD,CAAMsC,QAAQ,QAAQC,YAAU,GAC9B,kBAACvC,EAAA,EAAKI,KAAN,CAAWC,GAAG,IAAIS,MAAI,GACpB,kBAAC0B,EAAA,EAAD,CAAMjC,KAAK,kBAEb,kBAACP,EAAA,EAAKI,KAAN,CAAWC,GAAG,KAAd,KACA,kBAACL,EAAA,EAAKI,KAAN,CAAWC,GAAG,KAAd,KACA,kBAACL,EAAA,EAAKI,KAAN,CAAWC,GAAG,KAAd,KACA,kBAACL,EAAA,EAAKI,KAAN,CAAWC,GAAG,KAAd,KACA,kBAACL,EAAA,EAAKI,KAAN,CAAWC,GAAG,IAAIS,MAAI,GACpB,kBAAC0B,EAAA,EAAD,CAAMjC,KAAK,0B,iCCnDdkC,EAAO,uCAAG,WAAOC,GAAP,eAAAC,EAAA,sEACEC,MAAMF,GADR,cACfG,EADe,yBAGdA,EAASC,QAHK,2CAAH,sDAMPC,EAAO,uCAAG,4BAAAJ,EAAA,sEACAF,EAAQ,GAAD,OAVb,+CAUa,OATd,6BAQO,cACfvB,EADe,yBAGdA,EAAOO,KAAI,SAACQ,EAAgBe,GAAjB,mBAAC,eACdf,GADa,IAEhBC,GAAIc,EAAM,EACVC,OAAQhB,EAAOiB,YAAc,GAC7BC,OAAQlB,EAAOmB,YAAc,GAC7BC,IAAKpB,EAAOqB,KAAOrB,EAAOsB,KAC1BC,QAASC,KAAKC,KAAKzB,EAAOqB,KAAO,KACjCK,SAAUzC,EACP0C,QAAO,SAACC,GAAD,OACNA,EAAMX,aAAejB,EAAO1B,MAAQsD,EAAMT,aAAenB,EAAO1B,QAEjEkB,KAAI,SAACoC,GAAD,OAAmBA,EAAMtD,QAC7BuD,KAAK,OAAS,SAfE,2CAAH,qDCHdC,G,OAA+B,CACnC7B,GAAI,KACJ3B,KAAM,OACNyD,IAAK,MACLX,IAAK,MACLE,KAAM,OACND,KAAM,OACNE,QAAS,UACTP,OAAQ,SACRE,OAAQ,SACRQ,SAAU,aAiBNM,EAAqB,SAACC,GAC1B,OAAQA,GACN,IAAK,KACL,IAAK,MACL,IAAK,OACL,IAAK,OACL,IAAK,UACH,OAAO,SAACvB,EAAGwB,GAAJ,OAAUxB,EAAEuB,GAASC,EAAED,IAChC,QACE,OAAO,SAACvB,EAAGwB,GAAJ,OAAUxB,EAAEuB,GAAOE,cAAcD,EAAED,OAoDjCG,EAhDI,WAAO,IAAD,EACKC,mBAAmB,IADxB,mBAChBpD,EADgB,KACRqD,EADQ,KAEjBpD,EA7BmB,SAACD,GAC1B,OAAsB,IAAlBA,EAAOsD,OACF,CAAC,CAAEjE,KAAM,sBAAuBmB,KAAM,KAI7C+C,OAAOC,QAAQX,GAAetC,KAAI,yCAAmB,CACnDC,KADgC,KACrBnB,KADqB,SAuBfoE,CAAmBzD,GAClC0D,EAAUC,cACVC,EAAWC,cACXC,EAAe,IAAIC,gBAAgBH,EAASI,QAC5CC,EAAgCH,EACnCI,IAAI,WAAoC,KAW3C,GATAC,qBAAU,WACRtC,IAAUuC,KAAKf,KACd,IAEHgB,mBAAQ,WACNhB,EAAU,YAAIrD,GAAQsE,KAAKvB,EAASkB,OACnC,CAACA,KAGCpB,EAAc0B,eAAeN,GAChC,OAAO,kBAAC,IAAD,CAAU3E,GAAG,WAgBtB,OACE,yBAAKL,UAAU,cACb,4CAEA,kBAAC,EAAD,CACEe,OAAQA,EACRC,aAAcA,EACdC,UApBY,SAACsE,GACjB,IAAMxB,EAAQwB,EAAMC,cAAcC,QAAQC,SACpCC,EAAW7B,EAASC,GAEtBiB,IAAajB,GACfK,EAAU,YAAIrD,GAAQsE,KAAKM,IAC3Bd,EAAae,IAAI,SAAU7B,GAC3BU,EAAQoB,KAAK,CAAEd,OAAQF,EAAaiB,cAEpC1B,EAAU,YAAIrD,GAAQgF,gBCrEbC,EAFoB,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAAH,OAAiB,4BAAKA,ICyB1CC,G,OAxBF,WACX,OACE,yBAAKlG,UAAU,QACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEO,KAAK,uBACL4F,UAAWjC,IAGb,kBAAC,IAAD,CAAO3D,KAAK,IAAID,OAAK,GACnB,kBAAC,EAAD,OAEF,kBAAC,IAAD,CAAU8F,KAAK,QAAQ/F,GAAG,MAE1B,kBAAC,IAAD,CAAOE,KAAK,UACV,kBAAC,EAAD,CAAW0F,QAAQ,eAErB,kBAAC,IAAD,CAAUG,KAAK,KAAK/F,GAAG,eCNhBgG,G,OAbH,kBACV,yBAAKrG,UAAU,OACb,gCACE,kBAAC,EAAD,OAGF,kBAAC,EAAD,MACA,4BAAQA,UAAU,cAAlB,4BCNJsG,IAASC,OACP,kBAAC,IAAD,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.1b9ecf7b.chunk.js","sourcesContent":["import React from 'react';\nimport { NavLink, Route } from 'react-router-dom';\nimport './Nav.scss';\nimport { Input, Menu } from 'semantic-ui-react';\n\nconst Nav = () => (\n  <>\n    <Menu inverted color=\"teal\" className=\"Nav\">\n      <Menu.Item\n        as={NavLink}\n        name=\"home\"\n        to=\"/\"\n        exact\n      />\n      <Menu.Item\n        as={NavLink}\n        name=\"people\"\n        to=\"/people\"\n        exact\n      />\n      <Route path=\"/people\">\n        <Menu.Item position=\"right\">\n          <Input\n            className=\"Nav-Search icon\"\n            placeholder=\"Search...\"\n            icon=\"search\"\n            size=\"mini\"\n          />\n        </Menu.Item>\n      </Route>\n    </Menu>\n  </>\n);\n\nexport default Nav;\n","import React from 'react';\nimport './HomePage.scss';\n\nconst HomePage = () => (\n  <div className=\"HomePage\">\n    <h1>Home Page</h1>\n  </div>\n);\n\nexport default HomePage;\n","import React from 'react';\n// import { Link } from 'react-router-dom';\n// import cn from 'classnames';\nimport { Table, Menu, Icon } from 'semantic-ui-react';\nimport './PeopleTable.scss';\n\ntype Props = {\n  people: Person[];\n  tableHeaders: TableHeader[];\n  sortTable: (event: React.MouseEvent<HTMLTableHeaderCellElement>) => void;\n};\n\nconst PeopleTable: React.FC<Props> = ({ people, tableHeaders, sortTable }) => {\n  return (\n    <Table celled>\n      <Table.Header>\n        <Table.Row>\n          {tableHeaders.map(({ name, code }) => (\n            <Table.HeaderCell\n              key={name}\n              content={name}\n              className=\"sort-button\"\n              data-sort-name={code}\n              onClick={sortTable}\n            />\n          ))}\n        </Table.Row>\n      </Table.Header>\n\n      <Table.Body>\n        {people.map(person => (\n          <Table.Row key={person.id}>\n            {tableHeaders.map(({ code }) => (\n              <Table.Cell\n                key={code}\n                content={person[code]}\n              />\n            ))}\n          </Table.Row>\n        ))}\n      </Table.Body>\n\n      <Table.Footer>\n        <Table.Row>\n          <Table.HeaderCell colSpan=\"3\">\n            <Menu floated=\"right\" pagination>\n              <Menu.Item as=\"a\" icon>\n                <Icon name=\"chevron left\" />\n              </Menu.Item>\n              <Menu.Item as=\"a\">1</Menu.Item>\n              <Menu.Item as=\"a\">2</Menu.Item>\n              <Menu.Item as=\"a\">3</Menu.Item>\n              <Menu.Item as=\"a\">4</Menu.Item>\n              <Menu.Item as=\"a\" icon>\n                <Icon name=\"chevron right\" />\n              </Menu.Item>\n            </Menu>\n          </Table.HeaderCell>\n        </Table.Row>\n      </Table.Footer>\n    </Table>\n  );\n};\n\nexport default PeopleTable;\n","const BASE_URL = 'https://andreas-just.github.io/library-json';\nconst API_URL = '/people/people-slug.json';\n\nexport const getData = async (url: string) => {\n  const response = await fetch(url);\n\n  return response.json();\n};\n\nexport const getTabs = async (): Promise<Person[]> => {\n  const people = await getData(`${BASE_URL}${API_URL}`);\n\n  return people.map((person: Person, idx: number) => ({\n    ...person,\n    id: idx + 1,\n    father: person.fatherName || '',\n    mother: person.motherName || '',\n    age: person.died - person.born,\n    century: Math.ceil(person.died / 100),\n    children: people\n      .filter((child: Person) => (\n        child.fatherName === person.name || child.motherName === person.name\n      ))\n      .map((child: Person) => child.name)\n      .join(', ') || '',\n  }));\n};\n","import React, { useEffect, useMemo, useState } from 'react';\nimport { useLocation, useHistory, Redirect } from 'react-router-dom';\nimport PeopleTable from '../PeopleTable';\nimport { getTabs } from '../../api/getTabs';\nimport './PeoplePage.scss';\n\nconst headersConfig: HeadersConfig = {\n  id: 'Id',\n  name: 'Name',\n  sex: 'Sex',\n  age: 'Age',\n  born: 'Born',\n  died: 'Died',\n  century: 'Century',\n  father: 'Father',\n  mother: 'Mother',\n  children: 'Children',\n};\n\nconst createTableHeaders = (people: Person[]): TableHeader[] => {\n  if (people.length === 0) {\n    return [{ name: 'There are no people', code: '' }];\n  }\n\n  return (\n    Object.entries(headersConfig).map(([key, value]) => ({\n      code: key, name: value,\n    }))\n  );\n};\n\ndeclare type Callback = (myArgument: string) => (a: Person, b: Person) => number;\n\nconst sortType: Callback = (field: string) => {\n  switch (field) {\n    case 'id':\n    case 'age':\n    case 'born':\n    case 'died':\n    case 'century':\n      return (a, b) => a[field] - b[field];\n    default:\n      return (a, b) => a[field].localeCompare(b[field]);\n  }\n};\n\nconst PeoplePage = () => {\n  const [people, setPeople] = useState<Person[]>([]);\n  const tableHeaders = createTableHeaders(people);\n  const history = useHistory();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const sortedBy: keyof HeadersConfig = searchParams\n    .get('sortBy') as keyof HeadersConfig || 'id';\n\n  useEffect(() => {\n    getTabs().then(setPeople);\n  }, []);\n\n  useMemo(() => {\n    setPeople([...people].sort(sortType(sortedBy)));\n  }, [sortedBy]);\n\n  // eslint-disable-next-line no-prototype-builtins\n  if (!headersConfig.hasOwnProperty(sortedBy)) {\n    return <Redirect to=\"/error\" />; // does not work\n  }\n\n  const sortTable = (event: React.MouseEvent<any>) => {\n    const field = event.currentTarget.dataset.sortName;\n    const callback = sortType(field);\n\n    if (sortedBy !== field) {\n      setPeople([...people].sort(callback));\n      searchParams.set('sortBy', field);\n      history.push({ search: searchParams.toString() });\n    } else {\n      setPeople([...people].reverse());\n    }\n  };\n\n  return (\n    <div className=\"PeoplePage\">\n      <h1>People table</h1>\n\n      <PeopleTable\n        people={people}\n        tableHeaders={tableHeaders}\n        sortTable={sortTable}\n      />\n    </div>\n  );\n};\n\nexport default PeoplePage;\n","import React from 'react';\n\ntype Props = {\n  message: string;\n};\n\nconst ErrorPage: React.FC<Props> = ({ message }) => <h2>{message}</h2>;\n\nexport default ErrorPage;\n","import React from 'react';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport HomePage from '../HomePage';\nimport PeoplePage from '../PeoplePege';\nimport ErrorPage from '../ErrorPage';\nimport './Main.scss';\n\nconst Main = () => {\n  return (\n    <div className=\"Main\">\n      <Switch>\n        <Route\n          path=\"/people/:personName?\"\n          component={PeoplePage}\n        />\n\n        <Route path=\"/\" exact>\n          <HomePage />\n        </Route>\n        <Redirect from=\"/home\" to=\"/\" />\n\n        <Route path=\"/error\">\n          <ErrorPage message=\"Not found\" />\n        </Route>\n        <Redirect from=\"/*\" to=\"/error\" />\n\n      </Switch>\n    </div>\n  );\n};\n\nexport default Main;\n","import React from 'react';\nimport Nav from './components/Nav';\nimport Main from './components/Main';\nimport './App.scss';\n\nconst App = () => (\n  <div className=\"App\">\n    <header>\n      <Nav />\n    </header>\n\n    <Main />\n    <footer className=\"App-Footer\">\n      &copy;Andreas Just 2020\n    </footer>\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}